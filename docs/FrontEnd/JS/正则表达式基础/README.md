# æ­£åˆ™è¡¨è¾¾å¼(Regular Expressions)å­¦ä¹ ç¬”è®°

*æ–‡ç« å‚è€ƒæ¥æº:[æ˜é‡‘|JsTheGreat](https://juejin.im/post/5bda4e6fe51d45681f245274) , [ECMAScript6å…¥é—¨--é˜®ä¸€å³°](http://es6.ruanyifeng.com/#docs/regex)* , [ç™¾åº¦ç™¾ç§‘](https://baike.baidu.com/item/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F)

*æ¨èèµ„æºï¼š[æ­£åˆ™è¡¨è¾¾å¼å¤§å…¨](http://tool.oschina.net/uploads/apidocs/jquery/regexp.html) , [å¥½ç”¨çš„æ­£åˆ™è¡¨è¾¾å¼åˆ†æå·¥å…·1](https://jex.im/regulex/) , [å¥½ç”¨çš„æ­£åˆ™è¡¨è¾¾å¼åˆ†æå·¥å…·2](https://regexper.com/) , [ASCIIå¯¹ç…§è¡¨](http://tool.oschina.net/commons?type=4)*

æ­£åˆ™è¡¨è¾¾å¼ä¸‰ä¸ªç‰¹ç‚¹: æå–æ–‡æœ¬, å¼ºå¤§, éš¾è®°

æ­£åˆ™è¡¨è¾¾å¼çš„åº”ç”¨: æ•°æ®éªŒè¯;å¤æ‚å­—ç¬¦ä¸²æœç´¢æ›¿æ¢;åŸºäºæ¨¡å¼åŒ¹é…ä»å­—ç¬¦ä¸²ä¸­æå–å­å­—ç¬¦ä¸².

## ä¸€ã€è¯­æ³•

### 1.æ£€ç´¢æ™®é€šå­—ç¬¦

```javascript
'hello ğŸ˜€ regexp'.match(/ğŸ˜€/);
// ["ğŸ˜€", index: 6, input: "hello ğŸ˜€ regexp", groups: undefined]
```

### 2.å¼€å§‹ä¸ç»“æŸ

**^** å­—ç¬¦(è„±å­—ç¬¦),åœ¨æ­£åˆ™ä¸­å±äºå…ƒå­—ç¬¦,è¡¨ç¤ºæ–‡æœ¬çš„å¼€å§‹,å³å¦‚æœå®ƒæ˜¯æ­£åˆ™ä¸»ä½“çš„ç¬¬ä¸€ä¸ªç¬¦å·,é‚£ä¹ˆç´§è·Ÿå®ƒçš„å­—ç¬¦å¿…é¡»æ˜¯è¢«åŒ¹é…æ–‡æœ¬çš„ç¬¬ä¸€ä¸ªå­—ç¬¦.

``` javascript
'regexp'.match(/^r/);
// ["r", index: 0, input: "regexp", groups: undefined]
```

``` javascript
'regexp'.match(/a^r/);
// null
```

æ³¨æ„ç‚¹: 

* ä½œä¸ºåŒ¹é…æ–‡æœ¬å¼€å§‹å…ƒå­—ç¬¦çš„æ—¶å€™å¿…é¡»æ˜¯æ­£åˆ™ä¸»ä½“çš„ç¬¬ä¸€ä¸ªç¬¦å·,å¦åˆ™æ­£åˆ™æ— æ•ˆ
* å®ƒåŒ¹é…çš„æ˜¯ä¸€ä¸ªä½ç½®,ä¸æ˜¯å…·ä½“çš„æ–‡æœ¬
* åœ¨å…¶ä»–è§„åˆ™ä¸­å­˜åœ¨å¦å¤–çš„å«ä¹‰

**$**å­—ç¬¦ä¸**^**æ­£å¥½ç›¸å,å®ƒä»£è¡¨æ–‡æœ¬çš„ç»“æŸ,å¿…é¡»æ˜¯æ­£åˆ™ä¸»ä½“çš„æœ€åä¸€ä¸ªç¬¦å·.

```javascript
'regexp'.match(/p$/);
// ["p", index: 5, input: "regexp", groups: undefined]
```

### 3.è½¬ä¹‰

æ­£åˆ™ä¸­å­˜åœ¨å¾ˆå¤šå…ƒå­—ç¬¦,è¿™äº›å…ƒå­—ç¬¦æœ¬èº«ä¹Ÿæ˜¯å­—ç¬¦,å¦‚æœæˆ‘ä»¬æƒ³è¦åŒ¹é…ä»–ä»¬æœ¬èº«æ—¶,å°±éœ€è¦ä½¿ç”¨è½¬ä¹‰**\\**

```javascript
'price: $3.6'.match(/\$[0-9]+\.[0-9]+$/);
// ["$3.6", index: 7, input: "price: $3.6", groups: undefined]
```

**\\**æœ¬èº«ä¹Ÿæ˜¯å…ƒå­—ç¬¦,å®ƒåé¢è·Ÿéšå…¶ä»–å…ƒå­—ç¬¦å°±å¯ä»¥è¿˜åŸé‚£ä¸ªå…ƒå­—ç¬¦æœ¬æ¥çš„å«ä¹‰

å½“**\\** **\\** æ—¶,è¡¨ç¤ºè½¬ä¹‰**\\**æœ¬èº«,å½“å‡ºç°ä¸‰ä¸ªæ—¶,æˆ‘ä»¬å¯ä»¥æŠŠå®ƒä»¬åˆ†æˆä¸¤æ®µå»ç†è§£,ä»¥æ­¤ç±»æ¨

å½“æ™®é€šå­—ç¬¦å‰è·Ÿ**\\**æ—¶,è¿˜æ˜¯æ™®é€šå­—ç¬¦

### 4.å¸¦åæ–œæ çš„å…ƒå­—ç¬¦

ä¸€èˆ¬æ¥è¯´,æ™®é€šå­—ç¬¦å‰åŠ åæ–œæ è¿˜æ˜¯æ™®é€šå­—ç¬¦,ä½†æ˜¯æœ‰äº›æ™®é€šå­—ç¬¦,æ·»åŠ åæ–œæ åä¼šå˜æˆå…ƒå­—ç¬¦

| å…ƒå­—ç¬¦ | å«ä¹‰                                   |
| ------ | -------------------------------------- |
| \b     | åŒ¹é…ä¸€ä¸ªå•è¯è¾¹ç•Œ                       |
| \B     | åŒ¹é…ä¸€ä¸ªéå•è¯è¾¹ç•Œ                     |
| \d     | åŒ¹é…ä¸€ä¸ªæ•°å­—å­—ç¬¦                       |
| \D     | åŒ¹é…ä¸€ä¸ªéæ•°å­—å­—ç¬¦                     |
| \s     | åŒ¹é…ä¸€ä¸ªç©ºç™½å­—ç¬¦                       |
| \S     | åŒ¹é…ä¸€ä¸ªéç©ºç™½å­—ç¬¦                     |
| \w     | åŒ¹é…ä¸€ä¸ªå­—æ¯æˆ–è€…ä¸€ä¸ªæ•°å­—æˆ–è€…ä¸€ä¸ªä¸‹åˆ’çº¿ |
| \W     | åŒ¹é…ä¸€ä¸ªå­—æ¯ã€æ•°å­—å’Œä¸‹åˆ’çº¿ä¹‹å¤–çš„å­—ç¬¦   |

å¤§å†™ä»£è¡¨åä¹‰

* **\bå…ƒå­—ç¬¦**

  **\b**åŒ¹é…çš„ä¹Ÿæ˜¯å•ä¸ªä½ç½®,è€Œä¸æ˜¯å­—ç¬¦.å•è¯å’Œç©ºæ ¼ä¹‹é—´çš„ä½ç½®,å°±æ˜¯å•è¯è¾¹ç•Œ,å•è¯è¾¹ç•Œå¯¹ä¸­æ–‡ç­‰å…¶ä»–è¯­è¨€æ˜¯æ— æ•ˆçš„.

```javascript
  'hello regexp'.match(/\bregexp$/);
  // ["regexp", index: 6, input: "hello regexp", groups: undefined]
  'hello regexp'.match(/\Bregexp$/);
  // null
```

```javascript
  'jiangshuying huge liuhuaqiang'.match(/\bhuge\b/);
  // ["huge", index: 13, input: "jiangshuying huge liuhuaqiang", groups: undefined]
  'æ±Ÿç–å½± èƒ¡æ­Œ åˆ˜åå¼º'.match(/\bèƒ¡æ­Œ\b/);
  // null
```

* **\då…ƒå­—ç¬¦**

  **\d**åŒ¹é…å•ä¸ªæ•°å­—

```javascript
  '123'.match(/\d/);
  // ["1", index: 0, input: "123", groups: undefined]
```

* **\så…ƒå­—ç¬¦**

  **\s**åŒ¹é…å•ä¸ªç©ºç™½å­—ç¬¦,åŒ…æ‹¬ **ç©ºæ ¼\f(æ¢é¡µ)\n(æ¢è¡Œ)\r(å›è½¦)\t(åˆ¶è¡¨å­—ç¬¦)\v(å‚ç›´åˆ¶è¡¨ç¬¦)** ,å¦‚æœä¸éœ€è¦åŒºåˆ†ç©ºæ ¼å’Œæ¢è¡Œ,å¯ä»¥ç›´æ¥ä½¿ç”¨**\s**

```javascript
  'a b'.match(/\w\s\w/);
  // ["a b", index: 0, input: "a b", groups: undefined]
  'a b'.match(/\w\f\w/);
  // null
  'a b'.match(/\w\n\w/);
  // null
  'a b'.match(/\w\r\w/);
  // null
  'a b'.match(/\w\t\w/);
  // null
  'a b'.match(/\w\v\w/);
  // null
  'a b'.match(/\w \w/);
  // ["a b", index: 0, input: "a b", groups: undefined]
```

* **\wå…ƒå­—ç¬¦**

  **\w**åŒ¹é…å•ä¸ªå­—æ¯æ•°å­—ä¸‹åˆ’çº¿

```javascript
  'æ­£åˆ™'.match(/\w/);
  // null
```

### 5."."å­—ç¬¦

åŒ¹é…é™¤æ¢è¡Œç¬¦ä¹‹å¤–çš„ä»»æ„å•ä¸ªå­—ç¬¦

```javascript
'@regexp'.match(/./);
// ["@", index: 0, input: "@regexp", groups: undefined]
```

### 6.é‡è¯

ä¸Šé¢ä»‹ç»äº†å¾ˆå¤šå…ƒå­—ç¬¦,éƒ½åªèƒ½åŒ¹é…å•ä¸ªå­—ç¬¦,å½“æˆ‘ä»¬è¦åŒ¹é…å¤šä¸ªæ—¶,è¯¥æ€ä¹ˆåŠå‘¢?

| é‡è¯  | å«ä¹‰                                 |
| ----- | ------------------------------------ |
| ?     | é‡å¤0æ¬¡æˆ–ä¸€æ¬¡                        |
| +     | é‡å¤ä¸€æ¬¡æˆ–è€…å¤šæ­¤,è‡³å°‘ä¸€æ¬¡            |
| *     | é‡å¤0æ¬¡æˆ–å¤šæ­¤,å³ä»»æ„æ¬¡               |
| {n}   | é‡å¤næ¬¡                              |
| {n,}  | é‡å¤næ¬¡æˆ–è€…æ›´å¤šæ¬¡                    |
| {n,m} | é‡å¤næ¬¡åˆ°mæ¬¡ä¹‹é—´çš„æ¬¡æ•°ï¼ŒåŒ…å«næ¬¡å’Œmæ¬¡ |

è¯´æ˜: 

* **?**åœ¨è¯¸å¦‚åŒ¹é…httpåè®®æ—¶å¾ˆæœ‰ç”¨,å¦‚**/http(s)?/**
* ä½¿ç”¨**/.*/**åŒ¹é…å¯¹æˆ‘ä»¬æ²¡æœ‰ç”¨çš„æ–‡æœ¬,è¡¨ç¤º**è‹¥å¹²é™¤æ¢è¡Œç¬¦ä¹‹å¤–çš„å­—ç¬¦**
* **{n,m}**ä¹‹é—´ä¸èƒ½æœ‰ç©ºæ ¼,ç©ºæ ¼åœ¨æ­£åˆ™ä¸­æ˜¯æœ‰å«ä¹‰çš„

***é‡è¯é‡å¤ç´§è´´åœ¨å®ƒå‰é¢çš„æŸä¸ªé›†åˆ***

```javascript
'gooooogle'.match(/go{2,5}gle/);
// ["gooooogle", index: 0, input: "gooooogle", groups: undefined]
//ä¸€ä¸ªé‡è¯ä¸èƒ½ç´§è´´åœ¨å¦ä¸€ä¸ªé‡è¯åé¢
'gooooogle'.match(/go{2,5}+gle/);
// Uncaught SyntaxError: Invalid regular expression: /go{2,5}+gle/: Nothing to repeat
```

### 7.è´ªå©ªæ¨¡å¼å’Œéè´ªå©ªæ¨¡å¼

```javascript
'https'.match(/http(s)?/);
// ["https", "s", index: 0, input: "https", groups: undefined]
'https'.match(/http(s)??/);
// ["http", undefined, index: 0, input: "https", groups: undefined]
```

ç´§è·Ÿåœ¨**?**åé¢çš„**?**ä¸æ˜¯ä¸€ä¸ªé‡è¯,è€Œæ˜¯ä¸€ä¸ªæ¨¡å¼åˆ‡æ¢ç¬¦,ä»è´ªå©ªæ¨¡å¼åˆ‡æ¢åˆ°éè´ªå©ªæ¨¡å¼.

è´ªå©ªæ¨¡å¼åœ¨æ­£åˆ™ä¸­æ˜¯é»˜è®¤æ¨¡å¼,å°±æ˜¯åœ¨æ—¢å®šè§„åˆ™ä¸‹åŒ¹é…å°½å¯èƒ½å¤šçš„æ–‡æœ¬.ç´§è·Ÿåœ¨é‡è¯åé¢åŠ ä¸Š**?**å°±æ˜¯å¼€å¯éè´ªå©ªæ¨¡å¼(åŒ¹é…åˆ°ç»“æœå°±ç»“æŸ),è¿™é‡Œè¦ç‰¹åˆ«æ³¨æ„:**?å¿…é¡»ç´§è·Ÿé‡è¯,ä¸ç„¶å°±è‡ªå·±å˜æˆé‡è¯äº†**.

### 8.å­—ç¬¦ç»„

æ­£åˆ™ä¸­çš„æ™®é€šå­—ç¬¦åªèƒ½åŒ¹é…å®ƒè‡ªå·±,å¦‚æœæˆ‘ä»¬ä¸èƒ½ç¡®å®šä¸€ä¸ªæ™®é€šå­—ç¬¦æ˜¯ä»€ä¹ˆ,è¯¥æ€ä¹ˆåŠå‘¢?

```javascript
'grey or gray'.match(/gr[ae]y/);
// ["grey", index: 0, input: "grey or gray", groups: undefined]
```

æ–¹æ‹¬å·åœ¨æ­£åˆ™ä¸­è¡¨ç¤ºä¸€ä¸ªåŒºé—´,æˆ‘ä»¬ç§°ä¹‹ä¸ºå­—ç¬¦ç»„.

* å­—ç¬¦ç»„ä¸­çš„å­—ç¬¦é›†åˆåªæ˜¯æ‰€æœ‰çš„å¯é€‰é¡¹,æœ€ç»ˆåªèƒ½åŒ¹é…ä¸€ä¸ªå­—ç¬¦

* å­—ç¬¦ç»„æ˜¯ç‹¬ç«‹çš„,å­—ç¬¦ç»„å†…éƒ¨çš„å…ƒå­—ç¬¦ä¸éœ€è¦è½¬ä¹‰

* **^**å’Œ**-**åœ¨å­—ç¬¦ç»„ä¸­å­˜åœ¨ç‰¹æ®Šå«ä¹‰

  **^**åœ¨å­—ç¬¦ç»„ä¸­è¡¨ç¤ºå–å,**-**ä¸å†æ˜¯æ™®é€šå­—ç¬¦,è€Œæ˜¯è¡¨ç¤ºè¿å­—ç¬¦(åŒ¹é…èŒƒå›´åœ¨å®ƒå·¦è¾¹å­—ç¬¦å’Œå³è¾¹å­—ç¬¦ä¹‹é—´çš„å­—ç¬¦(æŒ‰ç…§ASCIIè¡¨çš„é¡ºåº)),å¦‚æœè¦è¡¨ç¤ºæ™®é€šå­—ç¬¦,ä½¿ç”¨**\\**è½¬ä¹‰ç¬¦

```javascript
  '$'.match(/[$&@]/);
  // ["$", index: 0, input: "$", groups: undefined]
  'regexp'.match(/[^abc]/);//åŒ¹é…ä¸æ˜¯abcçš„å­—ç¬¦
  // ["r", index: 0, input: "regexp", groups: undefined]
  '13'.match(/[1-9]3/);
  // ["13", index: 0, input: "13", groups: undefined]
  'abc-3'.match(/[0-z]/);
  // ["a", index: 0, input: "abc-3", groups: undefined]
  'xyz-3'.match(/[0-c]/);
  // ["3", index: 4, input: "xyz-3", groups: undefined]
  'xyz-3'.match(/[0-$]/);
  // Uncaught SyntaxError: Invalid regular expression: /[0-$]/: Range out of order in character class
```


### 9.æ•è·ç»„(å…·åç»„)å’Œéæ•è·ç»„[ES2018]

```javascript
  'i love you very very very much'.match(/i love you (very )+much/);
  // ["i love you very very very much", "very ", index: 0, input: "i love you very very very much", groups: undefined]
```

  åœ†æ‹¬å·çš„æ„æ€æ˜¯å°†å®ƒå…¶ä¸­çš„å­—ç¬¦é›†åˆæ‰“åŒ…æˆä¸€ä¸ªæ•´ä½“,ç„¶åé‡è¯å°±å¯ä»¥æ“ä½œè¿™ä¸ªæ•´ä½“äº†.

  #### 9.1.æ­£åˆ™å†…æ•è·

```javascript
  '<App>hello regexp</App>'.match(/<([a-zA-Z]+)>.*<\/\1>/);
  // ["<App>hello regexp</App>", "App", index: 0, input: "<App>hello regexp</App>", groups: undefined]
```

  æ­£åˆ™å†…æ•è·ä½¿ç”¨**\æ•°å­—**çš„å½¢å¼,åˆ†åˆ«å¯¹åº”å‰é¢çš„åœ†æ‹¬å·æ•è·çš„å†…å®¹,è¿™ç§æ•è·çš„å¼•ç”¨ä¹Ÿç§°ä¸ºåå‘å¼•ç”¨.

```javascript
  '<App>hello regexp</App><p>A</p><p>hello regexp</p>'.match(/<((A|a)pp)>(hello regexp)+<\/\1><p>\2<\/p><p>\3<\/p>/);
  // ["<App>hello regexp</App><p>A</p><p>hello regexp</p>", "App", "A", "hello regexp", index: 0, input: "<App>hello regexp</App><p>A</p><p>hello regexp</p>", groups: undefined]
```

  å¦‚æœæœ‰åµŒå¥—çš„åœ†æ‹¬å·,é‚£ä¹ˆæ•è·çš„å¼•ç”¨æ˜¯å…ˆé€’å½’,ç„¶åæ‰æ˜¯ä¸‹ä¸€ä¸ªé¡¶çº§æ•è·.

  #### 9.2.æ­£åˆ™å¤–æ•è·

```javascript
  '@abc'.match(/@(abc)/);
  // ["@abc", "abc", index: 0, input: "@abc", groups: undefined]
  '@xyz'.match(/@(xyz)/);
  // ["@xyz", "xyz", index: 0, input: "@xyz", groups: undefined]
  RegExp.$1;
  // "xyz"
  'hello **regexp**'.replace(/\*{2}(.*)\*{2}/, '<strong>$1</strong>');
  // "hello <strong>regexp</strong>"
```

  **RegExp**æ˜¯æ„é€ æ­£åˆ™è¡¨è¾¾å¼çš„æ„é€ å‡½æ•°,å¦‚æœæœ‰æ•è·ç»„,å®ƒçš„å®ä¾‹å±æ€§**$æ•°å­—**ä¼šæ˜¾ç¤ºå¯¹åº”çš„å¼•ç”¨,å¦‚æœæœ‰å¤šä¸ªæ­£åˆ™æ•è·ç»„,åˆ™æ˜¾ç¤ºæœ€åä¸€ä¸ªæ­£åˆ™çš„æ•è·.

  #### 9.3.éæ•è·ç»„

  å½“æˆ‘ä»¬éœ€è¦åŒ¹é…æ•è·ç»„,ä½†æ˜¯åˆä¸éœ€è¦æ•è·ç»„ç»“æœæ—¶,æˆ‘ä»¬å¯ä»¥ä½¿ç”¨éæ•è·ç»„(?:pattern)

```javascript
'industry'.match(/industr(y|ies)/);
//["industry", "y", index: 0, input: "industry", groups: undefined]
'industry'.match(/industr(?:y|ies)/);
// ["industry", index: 0, input: "industry", groups: undefined]
```

  #### 9.4.æ•è·å‘½å

  ä½¿ç”¨**\æ•°å­—**å¼•ç”¨æ•è·å¿…é¡»ä¿è¯æ•è·ç»„çš„é¡ºåºä¸å˜,åœ¨ES2018ä¸­,å¢åŠ äº†æ•è·å‘½åçš„æ–°ç‰¹æ€§,ä½¿å¼•ç”¨æ›´åŠ ç¡®å®š.

```javascript
  '<App>hello regexp</App>'.match(/<(?<tag>[a-zA-Z]+)>.*<\/\k<tag>>/);
  // ["<App>hello regexp</App>", "App", index: 0, input: "<App>hello regexp</App>", groups: {tag: "App"}]
  
  const RE_DATE = /(?<year>\d{4})-(?<month>\d{2})-(?<day>\d{2})/;
  
  const matchObj = RE_DATE.exec('1999-12-31');
  const year = matchObj.groups.year; // 1999
  const month = matchObj.groups.month; // 12
  const day = matchObj.groups.day; // 31
```

  åœ¨æ•è·ç»„å†…éƒ¨æœ€å‰é¢åŠ ä¸Š`?<key>`,å®ƒå°±è¢«å‘½åäº†,ä½¿ç”¨`\k<key>`è¯­æ³•å°±å¯ä»¥å¼•ç”¨å·²ç»å‘½åçš„æ•è·ç»„.

  ### 10.åˆ†æ”¯

  å¦‚æœæˆ‘ä»¬éœ€è¦åœ¨æ­£åˆ™ä¸­ä½¿ç”¨**æˆ–è€…**,é‚£ä¹ˆæˆ‘ä»¬å°±éœ€è¦ä½¿ç”¨**|**

```javascript
  'æ±Ÿç–å½±'.match(/æ±Ÿç–å½±|åˆ˜åå¼º/);
  // ["æ±Ÿç–å½±", index: 0, input: "æ±Ÿç–å½±", groups: undefined]
```

  å­—ç¬¦ç»„ä¹Ÿæ˜¯ä¸€ä¸ªå¤šé€‰ç»“æ„,ä½†æ˜¯ä¸åˆ†æ”¯ä¸åŒ.å­—ç¬¦ç»„æœ€ç»ˆåªèƒ½åŒ¹é…ä¸€ä¸ªå­—ç¬¦,è€Œåˆ†æ”¯åŒ¹é…çš„æ˜¯**|**å·¦è¾¹æ‰€æœ‰çš„å­—ç¬¦æˆ–è€…å³è¾¹æ‰€æœ‰çš„å­—ç¬¦.

### 11.é›¶å®½æ–­è¨€ğŸ˜‚[å‰ç»åé¡¾]

é›¶å®½: å®ƒåŒ¹é…ä¸€ä¸ªä½ç½®,æœ¬èº«æ²¡æœ‰å®½åº¦

æ–­è¨€: ä¸€ç§åˆ¤æ–­,æ–­è¨€ä¹‹å‰æˆ–è€…ä¹‹ååº”è¯¥æœ‰ä»€ä¹ˆæˆ–åº”è¯¥æ²¡æœ‰ä»€ä¹ˆ

#### 11.1.é›¶å®½è‚¯å®šå…ˆè¡Œæ–­è¨€(?=)[æ­£å‘è‚¯å®šé¢„æŸ¥]

```javascript
'CoffeeScript JavaScript javascript'.match(/\b\w{4}(?=Script\b)/);
// ["Java", index: 13, input: "CoffeeScript JavaScript javascript", groups: undefined]
'ab1cde2fg'.replace(/[a-z](?=\d)/g, 'X'); // aX1cdX2fg
```

äººè¯: è¦åŒ¹é…ä¸€æ®µæ–‡æœ¬,è¿™æ®µæ–‡æœ¬åé¢å¿…é¡»ç´§è·Ÿå¦ä¸€æ®µç‰¹å®šçš„æ–‡æœ¬,å³è¦æ»¡è¶³æ–­è¨€å‰é¢çš„æ¡ä»¶,ä¹Ÿè¦æ»¡è¶³åé¢çš„æ¡ä»¶,ä½†æ˜¯è¿”å›ç»“æœåªè¦å‰é¢éƒ¨åˆ†çš„æ–‡æœ¬.

#### 11.2.é›¶å®½è‚¯å®šåè¡Œæ–­è¨€(?<=)[ES2018] [åå‘è‚¯å®šé¢„æŸ¥]

```javascript
'æ¼”å‘˜é«˜åœ†åœ† å°†å†›éœå»ç—… æ¼”å‘˜éœæ€ç‡•'.match(/(?<=æ¼”å‘˜)éœ\S+/);
// ["éœæ€ç‡•", index: 14, input: "æ¼”å‘˜é«˜åœ†åœ† å°†å†›éœå»ç—… æ¼”å‘˜éœæ€ç‡•", groups: undefined]
'æ¼”å‘˜é«˜åœ†åœ† å°†å†›éœå»ç—… æ¼”å‘˜éœæ€ç‡•'.match(/(?<=æ¼”å‘˜)éœ.+?(?=\s|$)/);
// ["éœæ€ç‡•", index: 14, input: "æ¼”å‘˜é«˜åœ†åœ† å°†å†›éœå»ç—… æ¼”å‘˜éœæ€ç‡•", groups: undefined]
'ab1cde2fg'.replace(/(?<=\d)[a-z]/g, 'X'); // ab1Xde2Xg
```

åŒ¹é…ä¸€æ®µæ–‡æœ¬,è¿™æ®µæ–‡æœ¬å‰é¢å¿…é¡»ç´§è·Ÿå¦ä¸€æ®µç‰¹å®šçš„æ–‡æœ¬,åªå–åé¢çš„æ–‡æœ¬

#### 11.3.é›¶å®½å¦å®šå…ˆè¡Œæ–­è¨€(?!)[æ­£å‘å¦å®šé¢„æŸ¥]

```javascript
 'TypeScript Perl JavaScript'.match(/\b\w{4}(?!Script\b)/);
 // ["Perl", index: 11, input: "TypeScript Perl JavaScript", groups: undefined]
 'ab1cde2fg'.replace(/[a-z](?!\d)/g, 'X'); // Xb1XXe2XX
```

å¦å®šå°±æ˜¯æ²¡æœ‰,å°±æ˜¯è¦æ±‚ä¸€æ®µæ–‡æœ¬,åé¢ä¸€å®šä¸è¦ç´§è·Ÿä¸€æ®µæŒ‡å®šæ–‡æœ¬

#### 11.4.é›¶å®½å¦å®šåè¡Œæ–­è¨€(?<!)[ES2018] [åå‘å¦å®šé¢„æŸ¥]

```javascript
'æ¼”å‘˜é«˜åœ†åœ† å°†å†›éœå»ç—… æ¼”å‘˜éœæ€ç‡•'.match(/(?<!æ¼”å‘˜)éœ\S+/);
// ["éœå»ç—…", index: 8, input: "æ¼”å‘˜é«˜åœ†åœ† å°†å†›éœå»ç—… æ¼”å‘˜éœæ€ç‡•", groups: undefined]
'ab1cde2fg'.replace(/(?<!\d)[a-z]/g, 'X'); // XX1cXX2fX
```

è¦æ±‚ä¸€æ®µæ–‡æœ¬,å‰é¢ä¸€å®šä¸è·ŸæŸä¸€æ®µæŒ‡å®šæ–‡æœ¬

### 12.ä¿®é¥°ç¬¦

è¯­æ³•: å°†ä¿®é¥°ç¬¦æ”¾åœ¨æ­£åˆ™ä¸»é¢˜çš„æœ«å°¾,å¦‚: **/abc/gi**

#### 12.1.gä¿®é¥°ç¬¦(global)

é»˜è®¤æƒ…å†µä¸‹,æ­£åˆ™ä»å·¦å‘å³åŒ¹é…,åªè¦åŒ¹é…åˆ°ç»“æœå°±ä¼šç»“æŸ,gä¿®é¥°ç¬¦ä¼šå¼€å¯å…¨å±€åŒ¹é…æ¨¡å¼,æ‰¾åˆ°æ‰€æœ‰çš„åŒ¹é…ç»“æœ

```javascript
'æ¼”å‘˜é«˜åœ†åœ† å°†å†›éœå»ç—… æ¼”å‘˜éœæ€ç‡•'.match(/(?<=æ¼”å‘˜)\S+/);
// ["é«˜åœ†åœ†", index: 2, input: "æ¼”å‘˜é«˜åœ†åœ† å°†å†›éœå»ç—… æ¼”å‘˜éœæ€ç‡•", groups: undefined]
'æ¼”å‘˜é«˜åœ†åœ† å°†å†›éœå»ç—… æ¼”å‘˜éœæ€ç‡•'.match(/(?<=æ¼”å‘˜)\S+/g);
// ["é«˜åœ†åœ†", "éœæ€ç‡•"]
```

#### 12.2.iä¿®é¥°ç¬¦(ignoreCase)

é»˜è®¤æƒ…å†µè¯,æ­£åˆ™æ˜¯åŒºåˆ†å¤§å°å†™çš„,iä¿®é¥°ç¬¦çš„ä½œç”¨æ˜¯å¯ä»¥å…¨å±€å¿½ç•¥å¤§å°å†™.

```javascript
'javascript is great'.match(/JavaScript/);
// null
'javascript is great'.match(/JavaScript/i);
// ["javascript", index: 0, input: "javascript is great", groups: undefined]
```

#### 12.3.mä¿®é¥°ç¬¦(multiline)

é»˜è®¤æƒ…å†µä¸‹ï¼Œ**^**å’Œ**$**åŒ¹é…çš„æ˜¯æ–‡æœ¬çš„å¼€å§‹å’Œç»“æŸï¼ŒåŠ ä¸Š**m**ä¿®é¥°ç¬¦ï¼Œå®ƒä»¬çš„å«ä¹‰å°±å˜æˆäº†å¤šè¡Œçš„**è¡Œé¦–**å’Œ**è¡Œå°¾**,æ”¯æŒå¤šè¡Œæœç´¢

```javascript
`
abc
xyz
`.match(/xyz/);
// ["xyz", index: 5, input: "â†µabcâ†µxyzâ†µ", groups: undefined]
`
abc
xyz
`.match(/^xyz$/);
// null
`
abc
xyz
`.match(/^xyz$/m);
// ["xyz", index: 5, input: "â†µabcâ†µxyzâ†µ", groups: undefined]
```

#### 12.4.yä¿®é¥°ç¬¦(stickyç²˜è¿)[ES6]

yä¿®é¥°ç¬¦æœ‰å’Œgä¿®é¥°ç¬¦é‡åˆçš„åŠŸèƒ½ï¼Œå®ƒä»¬éƒ½æ˜¯å…¨å±€åŒ¹é…,ä¸åŒåœ¨äº,`g`ä¿®é¥°ç¬¦åªè¦å‰©ä½™ä½ç½®ä¸­å­˜åœ¨åŒ¹é…å°±å¯ï¼Œè€Œ`y`ä¿®é¥°ç¬¦ç¡®ä¿åŒ¹é…å¿…é¡»ä»å‰©ä½™çš„ç¬¬ä¸€ä¸ªä½ç½®å¼€å§‹ï¼Œè¿™ä¹Ÿå°±æ˜¯â€œç²˜è¿â€çš„æ¶µä¹‰

```javascript
'a bag with a tag has a mag'.match(/\wag/g);
// ["bag", "tag", "mag"]
'a bag with a tag has a mag'.match(/\wag/y);
// null
'bagtagmag'.match(/\wag/y);
// ["bag", index: 0, input: "bagtagmag", groups: undefined]
'bagtagmag'.match(/\wag/gy);
// ["bag", "tag", "mag"]
```

â“ä¸æ˜¯è¯´yæ˜¯å…¨å±€åŒ¹é…å—,ä¸ºä»€ä¹ˆä¸Šé¢ç¬¬ä¸‰æ¡è¯­å¥æ²¡æœ‰å…¨å±€åŒ¹é…,ç¬¬å››æ¡æ‰å…¨å±€åŒ¹é…äº†ã€‚

##### 12.4.1.lastIndex

é’ˆå¯¹ä¸Šé¢çš„é—®é¢˜,æˆ‘ä»¬ä¸å¾—ä¸è®²ä¸€ä¸‹æ­£åˆ™è¡¨è¾¾å¼çš„lastIndexå±æ€§äº†.

JSä¸­,æ­£åˆ™è¡¨è¾¾å¼ä½¿ç”¨æ–¹å¼æœ‰ä¸¤ç§,ä¸€ç§æ˜¯æ­£åˆ™è¡¨è¾¾å¼å¯¹è±¡çš„æ–¹æ³•,ä¸€ç§æ˜¯å­—ç¬¦ä¸²å¯¹è±¡çš„æ–¹æ³•,å‰è€…æœ‰exec(str),test(str)ä¸¤ä¸ªæ–¹æ³•,åè€…match(regexp)ã€replace(regexp)ã€search(regexp)ã€split(search)å››ä¸ªæ–¹æ³•.**å½“ä½œä¸ºæ­£åˆ™è¡¨è¾¾å¼å¯¹è±¡çš„æ–¹æ³•ä½¿ç”¨æ—¶**,éœ€è¦ç‰¹åˆ«æ³¨æ„lastIndexçš„å±æ€§.

lastIndexä»å­—é¢ä¸Šæ¥è®²å°±æ˜¯æœ€åä¸€ä¸ªç´¢å¼•ï¼Œå®é™…ä¸Šå®ƒçš„æ„æ€æ˜¯æ­£åˆ™è¡¨è¾¾å¼å¼€å§‹ä¸‹ä¸€æ¬¡æŸ¥æ‰¾çš„ç´¢å¼•ä½ç½®ï¼Œç¬¬ä¸€æ¬¡çš„æ—¶å€™æ€»æ˜¯ä¸º0çš„ï¼Œç¬¬ä¸€æ¬¡æŸ¥æ‰¾å®Œäº†çš„æ—¶å€™ä¼šæŠŠlastIndexçš„å€¼è®¾ä¸ºåŒ¹é…åˆ°å¾—å­—ç¬¦ä¸²çš„æœ€åä¸€ä¸ªå­—ç¬¦çš„ç´¢å¼•ä½ç½®åŠ 1ï¼Œç¬¬äºŒæ¬¡æŸ¥æ‰¾çš„æ—¶å€™ä¼šä»lastIndexè¿™ä¸ªä½ç½®å¼€å§‹ï¼Œåé¢çš„ä»¥æ­¤ç±»æ¨ã€‚å¦‚æœæ²¡æœ‰æ‰¾åˆ°ï¼Œåˆ™ä¼šæŠŠlastIndexé‡ç½®ä¸º0ã€‚è¦æ³¨æ„çš„æ˜¯ï¼ŒlastIndexå±æ€§åªæœ‰åœ¨æœ‰å…¨å±€æ ‡å¿—æ­£åˆ™è¡¨è¾¾å¼ä¸­æ‰æœ‰ä½œç”¨.

```javascript
const reg1 = /\wag/y;
reg1.exec('bagtagmag');
// ["bag", index: 0, input: "bagtagmag", groups: undefined]
reg1.exec('bagtagmag');
// ["tag", index: 3, input: "bagtagmag", groups: undefined]
reg1.exec('bagtagmag');
// ["mag", index: 6, input: "bagtagmag", groups: undefined]

const reg2 = /\wag/g;
reg2.exec('bag_tag_mag');
// ["bag", index: 0, input: "bag_tag_mag", groups: undefined]
reg2.exec('bag_tag_mag');
// ["tag", index: 4, input: "bag_tag_mag", groups: undefined]
reg2.exec('bag_tag_mag');
// ["mag", index: 8, input: "bag_tag_mag", groups: undefined]

reg1.exec('bag_tag_mag');
// ["bag", index: 0, input: "bag_tag_mag", groups: undefined]
reg1.lastIndex // 3
reg1.exec('bag_tag_mag');
// null

reg1.lastIndex = 4;
reg1.exec('bag_tag_mag');
//["tag", index: 4, input: "bag_tag_mag", groups: undefined]
```

#### 12.5.sä¿®é¥°ç¬¦(singleline)[ES2018]

**s**ä¿®é¥°ç¬¦çš„ä½œç”¨æ˜¯è®©**.**å¯ä»¥åŒ¹é…ä»»æ„å•ä¸ªå­—ç¬¦.

```javascript
`
abc
xyz
`.match(/c.x/);
// null
`
abc
xyz
`.match(/c.x/s);
// ["câ†µx", index: 3, input: "â†µabcâ†µxyzâ†µ", groups: undefined]
```

#### 12.6.uä¿®é¥°ç¬¦(unicode)[ES6]

æœ‰äº›Unicodeå­—ç¬¦è¶…è¿‡ä¸€ä¸ªå­—èŠ‚,æ­£åˆ™æ— æ³•æ­£ç¡®è¯†åˆ«,å¯ç”¨uä¿®é¥°ç¬¦æ¥å¤„ç†.

## äºŒã€æ–¹æ³•

### 1.RegExpç±»å‹åŠæ–¹æ³•

JavaScripté€šè¿‡RegExpç±»å‹æ¥æ”¯æŒæ­£åˆ™è¡¨è¾¾å¼`var exp = / pattern / flags`

å…¶ä¸­çš„æ¨¡å¼(pattern)éƒ¨åˆ†å¯ä»¥æ˜¯ä»»ä½•ç®€å•æˆ–å¤æ‚çš„æ­£åˆ™è¡¨è¾¾å¼,ä¿®é¥°ç¬¦(flags)å¯ä»¥æ˜¯ä¸€ä¸ªæˆ–å¤šä¸ª,è¡¨æ˜æ­£åˆ™è¡¨è¾¾å¼çš„è¡Œä¸º.

æˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡æ„é€ å‡½æ•°æ¥åˆ›å»ºæ­£åˆ™è¡¨è¾¾å¼.

``` 
new RegExp('abc'); // /abc/
new RegExp('abc','gi'); // /abc/gi
new RegExp(/abc/gi); // /abc/gi
new RegExp(/abc/m,'gi'); // /abc/gi
```

æ„é€ å‡½æ•°æ¥æ”¶ä¸¤ä¸ªå‚æ•°:ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯åŒ¹é…æ¨¡å¼æˆ–è€…æ˜¯æ­£åˆ™è¡¨è¾¾å¼,ç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¿®é¥°ç¬¦.

å¦‚æœç¬¬ä¸€ä¸ªå‚æ•°çš„æ­£åˆ™è¡¨è¾¾å¼å®šä¹‰äº†ä¿®é¥°ç¬¦,ç¬¬äºŒä¸ªå‚æ•°åˆæœ‰å€¼,åˆ™ä»¥ç¬¬äºŒä¸ªå‚æ•°å®šä¹‰çš„ä¿®é¥°ç¬¦ä¸ºå‡†.[ES6]

RegExpå®ä¾‹ä¹Ÿå¸¦æœ‰å‡ ä¸ªæ­£åˆ™æ–¹æ³•(exec,test)

#### 1.1.execæ–¹æ³•

ä½œç”¨: æ ¹æ®å‚æ•°è¿”å›åŒ¹é…ç»“æœ,å’Œmatchç›¸ä¼¼.åªæœ‰å½“å‚æ•°ä¸ºç©ºæ—¶,execè¿”å›null.

```javascript
/xyz/.exec('abc-xyz-abc');
//["xyz", index: 4, input: "abc-xyz-abc", groups: undefined]
/xyz/.exec(); // null
```

RegExpå®ä¾‹æœ‰ä¸€ä¸ªlastIndexå±æ€§,æ¯åŒ¹é…ä¸€æ¬¡,è¿™ä¸ªå±æ€§å°±æ›´æ–°ä¸ºä¸‹ä¸€æ¬¡åŒ¹é…å¼€å§‹çš„ä½ç½®,execæ ¹æ®è¿™ä¸ªå±æ€§æ¥è¿›è¡Œå…¨å±€åŒ¹é….å¦‚æœæœ‰å¤šä¸ªåŒ¹é…ç»“æœ,å¤šæ¬¡æ‰§è¡Œèƒ½å¤Ÿè·å–æ‰€æœ‰åŒ¹é…ç»“æœ,æ‰€ä»¥execä¸€èˆ¬ç”¨äºå¾ªç¯è¯­å¥ä¸­.

```javascript
const reg = /abc/g;
reg.lastIndex; // 0
reg.exec('abc-xyz-abc'); // ["abc", index: 0, input: "abc-xyz-abc", groups: undefined]
reg.lastIndex;// 3
reg.exec('abc-xyz-abc'); // ["abc", index: 8, input: "abc-xyz-abc", groups: undefined]
reg.lastIndex;// 11
reg.exec('abc-xyz-abc'); // null
reg.lastIndex;// 0
reg.exec('abc-xyz-abc'); // ["abc", index: 0, input: "abc-xyz-abc", groups: undefined]
reg.lastIndex;// 3

'abc-xyz-abc'.match(reg); // ["abc", "abc"]
```

#### 1.2.testæ–¹æ³•

ä½œç”¨: æ‰¾å‡ºæºæ–‡æœ¬ä¸­æ˜¯å¦æœ‰åŒ¹é…é¡¹,ä¸å­—ç¬¦ä¸²æ–¹æ³•searchç±»ä¼¼,å¤šç”¨äºè¡¨å•éªŒè¯.

```javascript
/abc/.test('abc-xyz-abc'); // true
```

ç”±äºæ˜¯æ­£åˆ™å®ä¾‹æ–¹æ³•,å…¨å±€åŒ¹é…æ—¶ä¹Ÿéœ€è¦è€ƒè™‘lastIndexçš„æ›´æ–°é—®é¢˜.

### 2.Stringç±»å‹è‡ªå¸¦æ–¹æ³•

æ­£åˆ™è¡¨è¾¾å¼æ˜¯ç”¨æ¥åŒ¹é…å­—ç¬¦ä¸²çš„,æ‰€ä»¥Stringå®ä¾‹ä¸­å¤©ç”Ÿå¸¦æœ‰å‡ ä¸ªå¯ä»¥ä½¿ç”¨æ­£åˆ™åŒ¹é…çš„æ–¹æ³•(match,replace,search,split)

#### 2.1.matchæ–¹æ³•

ä½œç”¨: æ ¹æ®å‚æ•°è¿”å›åŒ¹é…ç»“æœ,æ¥æ”¶æ­£åˆ™è¡¨è¾¾å¼ä½œä¸ºå”¯ä¸€å‚æ•°,å¦‚æœå‚æ•°æ˜¯å­—ç¬¦ä¸²,matchæ–¹æ³•å†…éƒ¨ä¼šéšå¼è°ƒç”¨new RegExp()æ–¹æ³•è¿›è¡Œè½¬æ¢

è¿”å›ç»“æœ: 

| ç»“æœ       | è¿”å›å€¼ | è¯´æ˜                                                         |
| ---------- | ------ | ------------------------------------------------------------ |
| åŒ¹é…å¤±è´¥   | null   |                                                              |
| éå…¨å±€åŒ¹é… | æ•°ç»„   | æ•°ç»„ç¬¬ä¸€ä¸ªå€¼ä¸ºåŒ¹é…ç»“æœ  æ•°ç»„ä¸­æœ‰ä¸€ä¸ªindexå±æ€§,æ ‡æ˜åŒ¹é…ç»“æœåœ¨æ–‡æœ¬ä¸­çš„èµ·å§‹ä½ç½® |
| å…¨å±€åŒ¹é…   | æ•°ç»„   | æ•°ç»„ä¸­ä¼šåˆ—å‡ºæ‰€æœ‰çš„åŒ¹é…ç»“æœ,å…¶ä»–ä¿¡æ¯(indexç­‰)åˆ™ä¸æ˜¾ç¤ºäº†.      |

#### 2.2.replaceæ–¹æ³•

ä½œç”¨: ç”¨ç»™å®šå­—ç¬¦ä¸²æ›¿æ¢åŒ¹é…ç»“æœ,å¹¶è¿”å›æ–°çš„æ›¿æ¢åçš„æ–‡æœ¬,æºå­—ç¬¦ä¸²ä¸ä¼šæ”¹å˜.æ¥æ”¶ä¸¤ä¸ªå‚æ•°:ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºå­—ç¬¦ä¸²æˆ–è€…æ­£åˆ™è¡¨è¾¾å¼,å¦‚æœå‚æ•°æ˜¯å­—ç¬¦ä¸²,åŒ¹é…æ›¿æ¢åªä¼šæ‰§è¡Œä¸€æ¬¡,ç¬¬äºŒä¸ªå‚æ•°å¯ä»¥æ˜¯å­—ç¬¦ä¸²æˆ–å‡½æ•°,ç”¨äºæ›¿æ¢.

```javascript
'abc-xyz-abc'.replace('abc', 'biu'); // "biu-xyz-abc"
'abc-xyz-abc'.replace(/abc/, 'biu'); // "biu-xyz-abc"
'abc-xyz-abc'.replace(/abc/g, 'biu'); // "biu-xyz-biu"
```

ç¬¬äºŒä¸ªå‚æ•°å¦‚æœæ˜¯å­—ç¬¦ä¸²æ—¶,`$`å­—ç¬¦å…·æœ‰ç‰¹æ®Šå«ä¹‰

| å­—ç¬¦         | æ›¿æ¢æ–‡æœ¬                                 |
| ------------ | ---------------------------------------- |
| $1 ã€$2 ã€$3 | ä¸æ­£åˆ™ä¸­çš„ç¬¬1åˆ°ç¬¬3ä¸ªå­è¡¨è¾¾å¼ç›¸åŒ¹é…çš„æ–‡æœ¬ |
| $&           | ä¸æ­£åˆ™ç›¸åŒ¹é…çš„ç»“æœ                       |
| $`           | ä½äºåŒ¹é…ç»“æœå·¦ä¾§çš„æ–‡æœ¬                   |
| $'           | ä½äºåŒ¹é…ç»“æœå³ä¾§çš„æ–‡æœ¬                   |
| $$           | $ç¬¦å·æœ¬èº«,ç¬¬ä¸€ä¸ª\$ç›¸å½“äºæ—¶è½¬ä¹‰           |

```javascript
'@abc-xyz-$abc'.replace(/([^-]+)abc/g, '$1biu'); //"@biu-xyz-$biu"
'@abc-xyz-$abc'.replace(/([^-]+)abc/g, '{$&}'); //"{@abc}-xyz-{$abc}"
'@abc-xyz-$abc'.replace(/([^-]+)abc/g, '{$`}'); //"{}-xyz-{@abc-xyz-}"
'@abc-xyz-$abc'.replace(/([^-]+)abc/g, "{$'}"); //"{-xyz-$abc}-xyz-{}"
'@abc-xyz-$abc'.replace(/([^-]+)abc/g, '$$biu'); //"$biu-xyz-$biu"
```

å½“ç¬¬äºŒä¸ªå‚æ•°æ˜¯å‡½æ•°æ—¶,æ¯ä¸€ä¸ªåŒ¹é…éƒ½ä¼šè°ƒç”¨è¯¥å‡½æ•°,å®ƒè¿”å›çš„å­—ç¬¦ä¸²ä½œä¸ºæ›¿æ¢æ–‡æœ¬ä½¿ç”¨.è¯¥å‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯åŒ¹é…æ¨¡å¼çš„å­—ç¬¦ä¸²,æ¥ä¸‹æ¥çš„å‚æ•°åˆ†åˆ«æ˜¯\$1,\$2,\$3è¿™æ ·çš„ä¸å­è¡¨è¾¾å¼åŒ¹é…çš„å­—ç¬¦ä¸²,æ¥ä¸‹æ¥çš„å‚æ•°æ˜¯ä¸€ä¸ªæ•´æ•°,å£°æ˜åŒ¹é…åœ¨æ–‡æœ¬ä¸­å¼€å§‹çš„ä½ç½®,æœ€åä¸€ä¸ªå‚æ•°æ˜¯æ–‡æœ¬æœ¬èº«.

```javascript
name = 'aaa bbb ccc';
uw=name.replace(/\b\w+\b/g, function(word){
  return word.substring(0,1).toUpperCase()+word.substring(1);}
  );// "Aaa Bbb Ccc"

var s = "Hello,My name is Vincent. What is your name?"
var newStr = s.replace(/\b\w{4}\b/g,replacer)
console.log(newStr)
function replacer(match) {
    console.log(match);
    return match.toUpperCase();
}
/*
name
What
your
name
Hello,My NAME is Vincent. WHAT is YOUR NAME?
*/
```

#### 2.3.searchæ–¹æ³•

ä½œç”¨: æ‰¾å‡º **é¦–æ¬¡** åŒ¹é…é¡¹çš„ç´¢å¼•,åŒ¹é…å¤±è´¥è¿”å›-1,æ¥æ”¶ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼ä½œä¸ºå”¯ä¸€å‚æ•°,å¦‚æœä¼ å…¥å­—ç¬¦ä¸²,ä¹Ÿä¼šéšå¼è°ƒç”¨new RegExp()æ–¹æ³•

```javascript
'abc-xyz-abc'.search(/xyz/); // 4
```

#### 2.4.splitæ–¹æ³•

ä½œç”¨: æ ¹æ®ä¼ å…¥çš„åˆ†éš”ç¬¦åˆ‡å‰²æºå­—ç¬¦ä¸²,è¿”å›ä¸€ä¸ªè¢«åˆ‡å‰²å•å…ƒç»„æˆçš„æ•°ç»„.

æ¥æ”¶ä¸¤ä¸ªå‚æ•°,ç¬¬ä¸€ä¸ªå‚æ•°å¯ä»¥æ˜¯å­—ç¬¦ä¸²æˆ–è€…æ­£åˆ™è¡¨è¾¾å¼,ä½œä¸ºåˆ†éš”ç¬¦,ç¬¬äºŒä¸ªå‚æ•°å¯é€‰,é™åˆ¶æ•°ç»„è¿”å›é•¿åº¦.

```javascript
'abc-def_mon+xyz'.split(/[-_+]/);// Â ["abc", "def", "mon", "xyz"]
```

## ä¸‰ã€ES6æ–°å˜åŒ–

ES6ä¸­,å°†å­—ç¬¦ä¸²çš„4ä¸ªæ­£åˆ™æ–¹æ³•(match,replace,search,split)åœ¨è¯­è¨€å†…éƒ¨å…¨éƒ¨è°ƒç”¨RegExpçš„å®ä¾‹æ–¹æ³•,ä»è€Œåšåˆ°æ‰€æœ‰ä¸æ­£åˆ™ç›¸å…³çš„æ–¹æ³•,å…¨éƒ¨å®šä¹‰åœ¨RegExpå¯¹è±¡ä¸Š.

## å››ã€å¸¸ç”¨æ­£åˆ™è¡¨è¾¾å¼

1. æ‰‹æœºå·ç æ£€æŸ¥: æœ€ç®€å•çš„åˆ¤æ–­ä¸º11ä½æ•°å­—å°±è¡Œ `/^\d{11}$/`

2. emailæ£€æŸ¥:   `/^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/`

3. urlåœ°å€å‚æ•°è·å–:  `new RegExp("(?:^\?|&)" + name + "=(.*?)(?=&|$)")`
```javascript
 '?aaa=22112&b=sasa'.match(/(?:^\?|&)b=(.*?)(?=&|$)/)
 //["&b=sasa", "sasa", index: 10, input: "?aaa=22112&b=sasa", groups: undefined]
```
4. å¯†ç å¼ºåº¦æ£€æŸ¥,å¯†ç å¿…é¡»ç”±å­—æ¯æ•°å­—ç‰¹æ®Šå­—ç¬¦(~!@#$%^&*)ç»„æˆ,ä¸”ä¸å°‘äº8ä¸ªå­—ç¬¦:

```javascript
/^(?=.*[0-9])(?=.*[A-Za-z])(?=.*[~!@#$%^&*]).{8,}$/;
```

5. æ•°å­—çš„åƒä½åˆ†éš”ç¬¦è¡¨ç¤ºæ³•

```javascript
"1111122332144".replace(/(?=(\B\d{3})+$)/g, ",")
//"1,111,122,332,144"
```

   